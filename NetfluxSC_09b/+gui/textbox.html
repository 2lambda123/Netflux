<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of textbox</title>
  <meta name="keywords" content="textbox">
  <meta name="description" content="gui.listbox">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="../index.html">NetfluxSC_09b</a> &gt; <a href="index.html">+gui</a> &gt; textbox.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for NetfluxSC_09b\+gui&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>textbox
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>gui.listbox</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> gui.listbox
    A widget for selecting from a scrollable list

    w = gui.listbox creates a widget that displays a
    scrollable list and allows the user to select one or more
    items in it. The widget is added to the current
    autogui (if there is no current autogui, one is created).

    w = gui.listbox(M) creates the widget with the label
    string M.

    w = gui.listbox(M,S) creates the widget with the label
    string M, and list S (a cell array of strings).

    w = gui.listbox(M,S,G) creates the widget with the
    label string M and list S, and adds it to the gui
    container G.

  Sample usage:
     g = gui.autogui;
    w1 = gui.listbox;
    w2 = gui.listbox('Filter type', {'Lowpass', 'Highpass'});
    w3 = gui.listbox('Filter type', {'Lowpass', 'Highpass'}, g);

    Also see: 
    &lt;a href=&quot;matlab:help gui.listbox.Value&quot;&gt;gui.listbox.Value&lt;/a&gt;
    &lt;a href=&quot;matlab:help gui.textmenu&quot;&gt;gui.textmenu&lt;/a&gt;
    &lt;a href=&quot;matlab:help gui.numericmenu&quot;&gt;gui.numericmenu&lt;/a&gt;</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="listbox.html" class="code" title="">listbox</a>	gui.listbox</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function obj = listbox(labelStr, menuItems, varargin)</a></li><li><a href="#_sub2" class="code">function set.MenuItems(obj, itemList)</a></li><li><a href="#_sub3" class="code">function out = get.MenuItems(obj)</a></li><li><a href="#_sub4" class="code">function out = get.AllowMultipleSelections(obj)</a></li><li><a href="#_sub5" class="code">function set.AllowMultipleSelections(obj,val)</a></li><li><a href="#_sub6" class="code">function postPositionChange(obj, pos)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% gui.listbox</span>
0002 <span class="comment">%    A widget for selecting from a scrollable list</span>
0003 <span class="comment">%</span>
0004 <span class="comment">%    w = gui.listbox creates a widget that displays a</span>
0005 <span class="comment">%    scrollable list and allows the user to select one or more</span>
0006 <span class="comment">%    items in it. The widget is added to the current</span>
0007 <span class="comment">%    autogui (if there is no current autogui, one is created).</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%    w = gui.listbox(M) creates the widget with the label</span>
0010 <span class="comment">%    string M.</span>
0011 <span class="comment">%</span>
0012 <span class="comment">%    w = gui.listbox(M,S) creates the widget with the label</span>
0013 <span class="comment">%    string M, and list S (a cell array of strings).</span>
0014 <span class="comment">%</span>
0015 <span class="comment">%    w = gui.listbox(M,S,G) creates the widget with the</span>
0016 <span class="comment">%    label string M and list S, and adds it to the gui</span>
0017 <span class="comment">%    container G.</span>
0018 <span class="comment">%</span>
0019 <span class="comment">%  Sample usage:</span>
0020 <span class="comment">%     g = gui.autogui;</span>
0021 <span class="comment">%    w1 = gui.listbox;</span>
0022 <span class="comment">%    w2 = gui.listbox('Filter type', {'Lowpass', 'Highpass'});</span>
0023 <span class="comment">%    w3 = gui.listbox('Filter type', {'Lowpass', 'Highpass'}, g);</span>
0024 <span class="comment">%</span>
0025 <span class="comment">%    Also see:</span>
0026 <span class="comment">%    &lt;a href=&quot;matlab:help gui.listbox.Value&quot;&gt;gui.listbox.Value&lt;/a&gt;</span>
0027 <span class="comment">%    &lt;a href=&quot;matlab:help gui.textmenu&quot;&gt;gui.textmenu&lt;/a&gt;</span>
0028 <span class="comment">%    &lt;a href=&quot;matlab:help gui.numericmenu&quot;&gt;gui.numericmenu&lt;/a&gt;</span>
0029 
0030 <span class="comment">%   Copyright 2009 The MathWorks, Inc.</span>
0031 
0032 classdef (Sealed) <a href="listbox.html" class="code" title="">listbox</a> &lt; gui.labeleduicontrol
0033 
0034     properties(Dependent)
0035         <span class="comment">% Value</span>
0036         <span class="comment">%   A string or cell array of strings indicating the current list</span>
0037         <span class="comment">%   selection (the MenuItems property specifies items of the list).</span>
0038         <span class="comment">%</span>
0039         <span class="comment">%   Sample usage:</span>
0040         <span class="comment">%    s = gui.listbox('Choose colors', {'Red', 'Green', 'Blue', 'Yellow'});</span>
0041         <span class="comment">%</span>
0042         <span class="comment">%    s.AllowMultipleSelections = true;</span>
0043         <span class="comment">%    s.Value % get the value (a cell array of strings)</span>
0044         <span class="comment">%    s.Value = {'Red', 'Blue'}; % set the value</span>
0045         <span class="comment">%    s.Value = []; % clear all selections</span>
0046         <span class="comment">%</span>
0047         <span class="comment">%    s.AllowMultipleSelections = false;</span>
0048         <span class="comment">%    s.Value % get the value (a string)</span>
0049         <span class="comment">%    s.Value = 'Green'; % set the value</span>
0050         Value 
0051     <span class="keyword">end</span>
0052     
0053     properties(Dependent)
0054         <span class="comment">% MenuItems</span>
0055         <span class="comment">%   A cell array of strings specifying the items of the list. Whenever</span>
0056         <span class="comment">%   the MenuItems property is modified, the Value property is reset</span>
0057         <span class="comment">%   to the first item in the list.</span>
0058         <span class="comment">%</span>
0059         <span class="comment">%   Sample usage:</span>
0060         <span class="comment">%    initialColors = {'Red', 'Green'};</span>
0061         <span class="comment">%    s = gui.listbox('Choose a color', initialColors);</span>
0062         <span class="comment">%    % change the menu items</span>
0063         <span class="comment">%    s.MenuItems = {'Yellow', 'Blue', 'Black', 'Red'};</span>
0064         <span class="comment">%    s.Value % automatically reset to 'Yellow'</span>
0065         MenuItems
0066         
0067         <span class="comment">% AllowMultipleSelections</span>
0068         <span class="comment">%   A boolean that indicates whether multiple list items can be</span>
0069         <span class="comment">%   selected or not.</span>
0070         <span class="comment">%</span>
0071         <span class="comment">%   true  =&gt; Multiple list items can be selected (using</span>
0072         <span class="comment">%            Ctrl-Click). The Value property returns a</span>
0073         <span class="comment">%            cell array of strings.</span>
0074         <span class="comment">%   false =&gt; Only one list item can be  selected at a time. The</span>
0075         <span class="comment">%            Value property returns a string.</span>
0076         <span class="comment">%</span>
0077         <span class="comment">%   Sample usage:</span>
0078         <span class="comment">%    s = gui.listbox('Choose colors', {'Red', 'Green', 'Blue', 'Yellow'});</span>
0079         <span class="comment">%    s.AllowMultipleSelections = false;</span>
0080         AllowMultipleSelections
0081     <span class="keyword">end</span>
0082     
0083     methods
0084         <a name="_sub0" href="#_subfunctions" class="code">function obj = listbox(labelStr, menuItems, varargin)</a>
0085             
0086             <span class="keyword">if</span> ~exist(<span class="string">'labelStr'</span>, <span class="string">'var'</span>)
0087                 labelStr = <span class="string">'Choose one or more menu items'</span>;
0088             <span class="keyword">end</span>
0089             <span class="keyword">if</span> ~exist(<span class="string">'menuItems'</span>, <span class="string">'var'</span>)
0090                 menuItems = {<span class="string">'Option 1'</span>, <span class="string">'Option 2'</span>, <span class="string">'Option 3'</span>};                
0091             <span class="keyword">end</span>
0092             
0093             obj = obj@gui.labeleduicontrol(<span class="string">'listbox'</span>,labelStr,varargin{:});
0094             assert(~obj.Initialized &amp;&amp; ~obj.Visible);
0095             
0096             <span class="comment">% Later calls to setSizeInFlow(...) etc.</span>
0097             <span class="comment">% assume UiHandle is a uiflowcontainer</span>
0098             assert(strcmp(get(obj.UiHandle,<span class="string">'type'</span>), <span class="string">'uiflowcontainer'</span>));
0099             
0100             set(obj.UiControl,<span class="string">'Min'</span>,0);
0101 
0102             obj.MenuItems = menuItems;
0103             obj.AllowMultipleSelections = true;
0104             
0105             obj.Initialized = true;
0106             obj.Visible = true;
0107             
0108         <span class="keyword">end</span>
0109 
0110     <span class="keyword">end</span>
0111     
0112     methods
0113         <a name="_sub1" href="#_subfunctions" class="code">function set.MenuItems(obj, itemList)</a>
0114             <span class="keyword">if</span> ~(ischar(itemList) || iscellstr(itemList))
0115                 throw(MException(<span class="string">'menu:set'</span>, <span class="string">'MenuItems should be a string or a cell array of strings'</span>));
0116             <span class="keyword">end</span>
0117             itemList = cellstr(itemList);
0118             <span class="comment">% get unique items in the same order as their occurrence in itemlist</span>
0119             [uniqueItems,indices] = unique(itemList,<span class="string">'first'</span>);
0120 <span class="comment">%             if numel(uniqueItems) &lt; numel(itemList)</span>
0121 <span class="comment">%                 warning('listbox:DuplicateMenuItems', 'Ignoring duplicate menu items');</span>
0122 <span class="comment">%                 itemList = itemList(sort(indices));</span>
0123 <span class="comment">%             end</span>
0124             set(obj.UiControl,<span class="string">'String'</span>, itemList);
0125             obj.Value = itemList{1};
0126         <span class="keyword">end</span>
0127 
0128         <a name="_sub2" href="#_subfunctions" class="code">function out = get.MenuItems(obj)</a>
0129             out = get(obj.UiControl, <span class="string">'String'</span>);
0130         <span class="keyword">end</span>
0131     
0132         <a name="_sub3" href="#_subfunctions" class="code">function out = get.AllowMultipleSelections(obj)</a>
0133             out = get(obj.UiControl,<span class="string">'Max'</span>) &gt; 1;
0134         <span class="keyword">end</span>
0135 
0136         <a name="_sub4" href="#_subfunctions" class="code">function set.AllowMultipleSelections(obj,val)</a>
0137             <span class="keyword">if</span> val
0138                 set(obj.UiControl,<span class="string">'Max'</span>,2);
0139             <span class="keyword">else</span>
0140                 set(obj.UiControl,<span class="string">'Max'</span>,1);
0141             <span class="keyword">end</span>
0142         <span class="keyword">end</span>
0143         
0144         <span class="comment">% Set the Value property to an empty matrix [] to have no selection</span>
0145         <span class="comment">% if mult. sel, value can be a vector of indices</span>
0146 
0147         <span class="comment">% override method</span>
0148         <span class="comment">% pos is a vector [x y w h]</span>
0149         <a name="_sub5" href="#_subfunctions" class="code">function postPositionChange(obj, pos)</a>
0150             nans = isnan(pos(3:4));
0151             <span class="keyword">if</span> all(nans), <span class="keyword">return</span>; <span class="keyword">end</span>
0152             <span class="keyword">if</span> nans(1)
0153                 pos(3) = obj.getPositionWidth();
0154             <span class="keyword">end</span>
0155             <span class="keyword">if</span> nans(2)
0156                 pos(4) = obj.getPositionHeight();
0157             <span class="keyword">end</span>
0158             w = pos(3); h = pos(4);
0159             
0160             <span class="keyword">switch</span> obj.LabelLocation
0161                 <span class="keyword">case</span> <span class="string">'none'</span>
0162                     labelpos = [];
0163                     ctrlpos = [round(0.95 * w)  round(0.97 * h)];
0164                 <span class="keyword">case</span> {<span class="string">'above'</span>,<span class="string">'below'</span>}
0165                     labelSizeNeeded = get(obj.UiLabel,<span class="string">'extent'</span>); <span class="comment">% [0 0 width height]</span>
0166                     labelratio = min(0.45, labelSizeNeeded(4) / h);
0167                     ctrlratio = 1-labelratio-0.1;
0168                     labelpos = [round(0.95 * w) round(labelratio * h)];
0169                     ctrlpos =  [round(0.95 * w) round(ctrlratio * h)];
0170                 <span class="keyword">case</span> {<span class="string">'left'</span>, <span class="string">'right'</span>}
0171                     labelpos = [round(0.55 * w) round(0.90 * h)];
0172                     ctrlpos =  [round(0.40 * w) round(0.90 * h)];
0173             <span class="keyword">end</span>
0174             
0175             <span class="comment">% we know UiControl and UiLabel are in a flowcontainer</span>
0176             gui.util.uiposition.setSizeInFlow(obj.UiControl, ctrlpos);            
0177             <span class="keyword">if</span> ~isempty(labelpos)
0178                 gui.util.uiposition.setSizeInFlow(obj.UiLabel, labelpos);
0179             <span class="keyword">end</span>                            
0180         <span class="keyword">end</span>
0181         
0182     <span class="keyword">end</span>
0183     
0184 
0185     
0186 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Thu 07-Aug-2014 13:40:59 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>